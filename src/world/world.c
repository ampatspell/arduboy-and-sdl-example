#include "world.h"

struct AMWorld {
  AMPlatformRef platform;
};

struct AMWorld __world;

AMWorldRef AMWorldCreate(AMPlatformRef platform) {
  AMWorldRef world = &__world;
  world->platform = platform;
  return world;  
}

void AMWorldSetup(AMWorldRef world) {
}


const unsigned char sprite_2[] PROGMEM = {
  23, 16,
  0x00, 0xf8, 0xf8, 0xfc, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xf8, 0xfc, 0x00, 0xf8, 0x00, 0x03, 0x03, 0x07, 0x07, 0xff, 0x3f, 0x7f, 0x1f, 0x3f, 0x0f, 0x1f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x03, 0x07, 0x00, 0x03,
  0x00, 0xf8, 0xf8, 0xfc, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0x7c, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xf8, 0xfc, 0x00, 0xf8, 0x00, 0x03, 0x03, 0x07, 0x07, 0xff, 0x3e, 0x7f, 0x1e, 0x3f, 0x0f, 0x1f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x03, 0x07, 0x00, 0x03,
  0x00, 0xf8, 0xf8, 0xfc, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0x7c, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xac, 0xfe, 0xec, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xf8, 0xfc, 0x00, 0xf8, 0x00, 0x03, 0x03, 0x07, 0x07, 0xff, 0x3e, 0x7f, 0x1e, 0x3f, 0x0f, 0x1f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x03, 0x07, 0x00, 0x03,
  0x00, 0xf8, 0xf8, 0xfc, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0x7c, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xac, 0xfe, 0xec, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xf8, 0xfc, 0x00, 0xf8, 0x00, 0x03, 0x03, 0x07, 0x07, 0xff, 0x3e, 0x7f, 0x1e, 0x3f, 0x0f, 0x1f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x07, 0x0f, 0x03, 0x07, 0x00, 0x03,
  0x00, 0xf8, 0xf8, 0xfc, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0x7c, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xac, 0xfe, 0xec, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0x0c, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xfc, 0xfe, 0xf8, 0xfc, 0x00, 0xf8, 0x00, 0x03, 0x03, 0x07, 0x07, 0xff, 0x3e, 0x7f, 0x1e, 0x3f, 0x0f, 0x1f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x06, 0x0f, 0x07, 0x0f, 0x03, 0x07, 0x00, 0x03
};

static uint8_t i = 0;

void AMWorldTick(AMWorldRef world) {
  AMPlatformRef platform = world->platform;
  
  AMPlatformSetCursor(platform, 0, 0);
  AMPlatformPrintString(platform, "Hello");

  AMPlatformDrawSpritePlusMask(platform, 5, 5, sprite_2, i);
  AMPlatformDrawSpritePlusMask(platform, 50, 30, sprite_2, i);

  i++;
  if(i > 4) {
    i=0;
  }
}
